<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ø¨Ø±Ú¯Ù‡ Ø¨ÛŒÙˆÚ¯Ø±Ø§ÙÛŒ</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <style>
    /* ğŸ”¥ ØªØºÛŒÛŒØ±Ø§Øª Ø§ØµÙ„ÛŒ Ø¨Ø±Ø§ÛŒ Ø±ÙØ¹ Ù…Ø´Ú©Ù„ Ø¹Ø±Ø¶ Ùˆ Ø§Ø±ØªÙØ§Ø¹ ğŸ”¥ */
    html, body {
      height: 100%;
      min-height: 100vh; /* Ù¾Ø± Ú©Ø±Ø¯Ù† Ú©Ù„ Ø§Ø±ØªÙØ§Ø¹ ØµÙØ­Ù‡ Ù†Ù…Ø§ÛŒØ´ */
      overflow-y: auto; /* ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø§Ø³Ú©Ø±ÙˆÙ„ Ø¹Ù…ÙˆØ¯ÛŒ ÙˆÙ‚ØªÛŒ Ù…Ø­ØªÙˆØ§ Ø¨Ù„Ù†Ø¯ Ø´Ø¯ */
      margin: 0;
    }

    * {
      box-sizing: border-box; /* Ù…Ù‡Ù… Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¯Ø±Ø³Øª Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÙ‡Ø§ */
    }

    body{
      font-family: Tahoma, Arial, sans-serif;
      background:#f0f0f0;
      display:flex; 
      flex-direction:column; 
      align-items:center;
      padding:10px; /* Ù¾Ø¯ÛŒÙ†Ú¯ Ù…Ù†Ø§Ø³Ø¨ Ù…ÙˆØ¨Ø§ÛŒÙ„ */
      justify-content: flex-start; /* Ù…Ø­ØªÙˆØ§ Ø§Ø² Ø¨Ø§Ù„Ø§ÛŒ ØµÙØ­Ù‡ Ø´Ø±ÙˆØ¹ Ø¨Ø´Ù‡ */
    }

    #capture-area{
      background:#fff;
      width: 100%;         /* Ø¹Ø±Ø¶ Ú©Ø§Ù…Ù„ Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ */
      max-width: 800px;    /* Ø­Ø¯Ø§Ú©Ø«Ø± Ø¹Ø±Ø¶ Ø¨Ø±Ø§ÛŒ Ø¯Ø³Ú©ØªØ§Ù¾ */
      max-height: calc(100vh - 120px); /* Ø§Ø±ØªÙØ§Ø¹ Ø­Ø¯Ø§Ú©Ø«Ø± ØªØ§ Ø¬Ø§ÛŒ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ */
      overflow-y: auto; /* Ø§Ø³Ú©Ø±ÙˆÙ„ Ø¯Ø±ÙˆÙ† ÙØ±Ù… Ø§Ú¯Ø± Ù…Ø­ØªÙˆØ§ Ø®ÛŒÙ„ÛŒ Ø¨Ù„Ù†Ø¯ Ø´Ø¯ */
      padding:20px;
      border:2px solid #000;
      box-shadow:0 0 10px rgba(0,0,0,.1);
      overflow-x: hidden;  Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø§Ø³Ú©Ø±ÙˆÙ„ Ø§ÙÙ‚ÛŒ
      margin-bottom: 15px; /* ÙØ§ØµÙ„Ù‡ Ø§Ø² Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ */
    }

    table{ 
      width:100%; 
      border-collapse:collapse; 
      border:2px solid #000; 
      table-layout: fixed; /* Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø®Ø±ÙˆØ¬ Ø§Ø² Ù…Ø­Ø¯ÙˆØ¯Ù‡ */
    }

    td{ 
      border:1px solid #000; 
      padding:8px; 
      vertical-align:middle; 
      font-size:14px; 
      line-height:1.6;
      word-wrap: break-word; /* Ø´Ú©Ø³ØªÙ† Ù…ØªÙ†â€ŒÙ‡Ø§ÛŒ Ø·ÙˆÙ„Ø§Ù†ÛŒ */
    }

    .header-cell{ 
      text-align:center; 
      font-weight:bold; 
      font-size:20px; 
      padding:15px; 
    }

    input[type="text"], textarea{
      border:none; 
      outline:none; 
      background:transparent;
      color:red; 
      font-size:14px; 
      font-family:Tahoma, sans-serif;
      width:100%; /* Ù¾Ø± Ú©Ø±Ø¯Ù† ÙØ¶Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ */ 
      flex-grow:1;
      min-width: 50px; /* Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø´Ú©Ø³ØªÙ† Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ */
    }

    textarea{ 
      width:100%; 
      resize:none; 
      overflow:hidden; 
    }

    .answer-select {
      border: none; 
      outline: none; 
      background: transparent;
      font-size: 14px; 
      font-family: Tahoma, sans-serif;
      width: 100%; /* Ù¾Ø± Ú©Ø±Ø¯Ù† ÙØ¶Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ */
      flex-grow: 1;
      appearance: none;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%23ff0000" height="14" viewBox="0 0 24 24" width="14" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>');
      background-repeat: no-repeat;
      background-position: left 4px center;
      padding-left: 22px;
      cursor: pointer;
    }

    .answer-select option { 
      color: black; 
      background: white; 
    }

    .answer-select:valid { 
      color: red; 
    }

    .answer-select option[disabled] { 
      color: #888; 
    }

    .flex-row{ 
      display:flex; 
      align-items:center; 
      gap:5px; 
      flex-wrap: wrap; /* Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø¨Ù¾ÛŒÚ†Ø¯ */
      width: 100%; 
    }

    .checkbox-group{ 
      display:inline-flex; 
      align-items:center; 
      gap:3px; 
      margin: 2px 10px 2px 0; /* ÙØ§ØµÙ„Ù‡ Ù…Ù†Ø§Ø³Ø¨ Ù…ÙˆØ¨Ø§ÛŒÙ„ */
      flex-shrink: 0; /* Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ú©ÙˆÚ†Ú© Ø´Ø¯Ù† Ø¨ÛŒØ´ Ø§Ø² Ø­Ø¯ */
    }

    input[type="checkbox"]{ 
      cursor:pointer; 
    }

    .controls{
      margin-top: 5px; 
      display:flex; 
      gap:10px; 
      background:#fff;
      padding:15px; 
      border-radius:8px; 
      box-shadow:0 2px 5px rgba(0,0,0,.2);
      flex-wrap: wrap; /* Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø¨Ù¾ÛŒÚ†Ø¯ */
      width: 100%;
      max-width: 800px;
    }

    button{ 
      padding:10px 20px; 
      cursor:pointer; 
      border:none; 
      border-radius:5px; 
      transition:.3s; 
      font-family:Tahoma; 
      flex: 1; /* Ù…Ø³Ø§Ø­Øª ÛŒÚ©Ø³Ø§Ù† Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ */
      min-width: 120px; /* Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø®ÛŒÙ„ÛŒ Ú©ÙˆÚ†Ú© Ø´Ø¯Ù† */
    }

    .btn-download{ 
      background:#27ae60; 
      color:#fff; 
    }

    .btn-backup{ 
      background:#2980b9; 
      color:#fff; 
    }

    .btn-restore{ 
      background:#f39c12; 
      color:#fff; 
    }

    button:hover{ 
      opacity:.85; 
    }

    #fileInput{ 
      display:none; 
    }

    tr.merge-top td{ 
      border-bottom:none !important; 
    }

    tr.merge-bottom td{ 
      border-top:none !important; 
    }

    .footer-row td{
      font-weight:bold;
      font-size:21px;
      padding-top:16px;
      padding-bottom:16px;
      word-break: break-word; /* Ø´Ú©Ø³ØªÙ† Ù…ØªÙ†â€ŒÙ‡Ø§ÛŒ Ø·ÙˆÙ„Ø§Ù†ÛŒ */
    }

    /* Ø§Ø³ØªØ§ÛŒÙ„ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ù¾ÙˆØªâ€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø¯Ø± Ù¾Ø§ÛŒØ§Ù†ÛŒ */
    #footer_me, #footer_target {
      width: 90px; /* Ø§Ù†Ø¯Ø§Ø²Ù‡ Ù…Ù†Ø§Ø³Ø¨ Ù…ÙˆØ¨Ø§ÛŒÙ„ */
      max-width: 120px; /* Ø¨Ø±Ø§ÛŒ Ø¯Ø³Ú©ØªØ§Ù¾ */
    }
  </style>
</head>
<body>

  <!-- âœ… Ú©Ø¯ HTML Ø´Ù…Ø§ Ú©Ø§Ù…Ù„Ø§Ù‹ Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ± âœ… -->
  <div id="capture-area">
    <table>
      <tr><td colspan="2" class="header-cell">Ø¨Ø±Ú¯Ù‡ Ø¨ÛŒÙˆÚ¯Ø±Ø§ÙÛŒ</td></tr>

      <tr>
        <td width="50%"><div class="flex-row">Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ù…Ø¹Ø±Ù: <input type="text" id="moaref_name"></div></td>
        <td width="50%"><div class="flex-row">Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ù¾Ø±Ø§Ø³Ù¾Ú©Øª: <input type="text" id="prospect_name"></div></td>
      </tr>

      <tr>
        <td><div class="flex-row">Ø³Ø§Ø¹Øª Ø¯Ù‚ÛŒÙ‚ Ùˆ ØªØ§Ø±ÛŒØ® Ù¾Ø±Ø²Ù†Øª: <input type="text" id="present_date"></div></td>
        <td><div class="flex-row">Ø³Ù† Ù¾Ø±Ø§Ø³Ù¾Ú©Øª: <input type="text" id="prospect_age"></div></td>
      </tr>

      <tr>
        <td><div class="flex-row">Ù…Ú©Ø§Ù† Ù¾Ø±Ø²Ù†Øª: <input type="text" id="present_location"></div></td>
        <td><div class="flex-row">Ù†Ø³Ø¨Øª Ø¨Ø§ Ù…Ø¹Ø±Ù: <input type="text" id="relation"></div></td>
      </tr>

      <tr>
        <td>
          <div class="flex-row">
            ØªØ­ØµÛŒÙ„Ø§Øª:
            <select id="education" class="answer-select" required>
              <option value="" disabled selected>Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>
              <option value="Ø²ÛŒØ± Ø¯ÛŒÙ¾Ù„Ù…">Ø²ÛŒØ± Ø¯ÛŒÙ¾Ù„Ù…</option>
              <option value="Ø¯ÛŒÙ¾Ù„Ù…">Ø¯ÛŒÙ¾Ù„Ù…</option>
              <option value="Ù„ÛŒØ³Ø§Ù†Ø³">Ù„ÛŒØ³Ø§Ù†Ø³</option>
              <option value="ÙÙˆÙ‚ Ù„ÛŒØ³Ø§Ù†Ø³">ÙÙˆÙ‚ Ù„ÛŒØ³Ø§Ù†Ø³</option>
              <option value="Ø¯Ú©ØªØ±ÛŒ">Ø¯Ú©ØªØ±ÛŒ</option>
            </select>
          </div>
        </td>
        <td><div class="flex-row">Ø±Ø´ØªÙ‡ ØªØ­ØµÛŒÙ„ÛŒ: <input type="text" id="major"></div></td>
      </tr>

      <tr>
        <td>
          <div class="flex-row">
            ÙˆØ¶Ø¹ÛŒØª ØªØ£Ù‡Ù„: 
            <select id="marriage" class="answer-select" required>
              <option value="" disabled selected>Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>
              <option value="Ù…Ø¬Ø±Ø¯">Ù…Ø¬Ø±Ø¯</option>
              <option value="Ù…ØªØ£Ù‡Ù„">Ù…ØªØ£Ù‡Ù„</option>
              <option value="Ù…Ø·Ù„Ù‚Ù‡">Ù…Ø·Ù„Ù‚Ù‡</option>
              <option value="Ø¨ÛŒÙˆÙ‡">Ø¨ÛŒÙˆÙ‡</option>
            </select>
          </div>
        </td>
        <td>
          <div class="flex-row">
            ØªØ¹Ø¯Ø§Ø¯ ÙØ±Ø²Ù†Ø¯:
            <select id="children" class="answer-select" required>
              <option value="" disabled selected>Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>
              <option value="Û°">Û°</option>
              <option value="Û±">Û±</option>
              <option value="Û²">Û²</option>
              <option value="Û³">Û³</option>
              <option value="Û´">Û´</option>
              <option value="Ûµ">Ûµ</option>
              <option value="Û¶">Û¶</option>
              <option value="Û·">Û·</option>
              <option value="Û¸">Û¸</option>
              <option value="Û¹">Û¹</option>
              <option value="Û±Û°">Û±Û°</option>
            </select>
          </div>
        </td>
      </tr>

      <tr>
        <td colspan="2"><div class="flex-row">Ø´ØºÙ„ ÙØ¹Ù„ÛŒ Ùˆ Ø³Ø§Ø¨Ù‚Ù‡ Ù…Ø´Ø§ØºÙ„ Ù‚Ø¨Ù„ÛŒ: <input type="text" id="job_history"></div></td>
      </tr>

      <tr>
        <td colspan="2"><div class="flex-row">Ù…ÛŒØ²Ø§Ù† Ø¯Ø±Ø¢Ù…Ø¯: <input type="text" id="income"></div></td>
      </tr>

      <tr class="merge-top">
        <td colspan="2">
          <div class="flex-row">
            Ø¯ØºØ¯ØºÙ‡ ÙØ¹Ù„ÛŒ:
            <span class="checkbox-group">Ø¯Ø±Ø¢Ù…Ø¯<input type="checkbox" id="d_daramad"></span>
            <span class="checkbox-group">Ø²Ù…Ø§Ù†<input type="checkbox" id="d_zaman"></span>
            <span class="checkbox-group">Ù¾ÛŒØ´Ø±ÙØª<input type="checkbox" id="d_pishraft"></span>
            <span class="checkbox-group">Ø§Ù…Ù†ÛŒØª Ø´ØºÙ„ÛŒ<input type="checkbox" id="d_amniat"></span>
          </div>
        </td>
      </tr>

      <tr class="merge-bottom">
        <td colspan="2"><div class="flex-row">ØªÙˆØ¶ÛŒØ­Ø§Øª Ø¨ÛŒØ´ØªØ±: <input type="text" id="desc1"></div></td>
      </tr>

      <tr class="merge-top">
        <td colspan="2">
          <div class="flex-row" style="flex-wrap:wrap;">
            ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø´Ø®ØµÛŒØªÛŒ:
            <span class="checkbox-group">Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ<input type="checkbox" id="v_ejtemai"></span>
            <span class="checkbox-group">Ø±ÛŒØ³Ú©â€ŒÙ¾Ø°ÛŒØ±<input type="checkbox" id="v_risk"></span>
            <span class="checkbox-group">Ù…Ø³ØªÙ‚Ù„<input type="checkbox" id="v_mostaghel"></span>
            <span class="checkbox-group">Ù…Ø°Ù‡Ø¨ÛŒ<input type="checkbox" id="v_mazhabi"></span>
            <span class="checkbox-group">Ø±ÙÚ©<input type="checkbox" id="v_rok"></span>
            <span class="checkbox-group">Ø´Ú©Ø§Ú©<input type="checkbox" id="v_shakak"></span>
            <span class="checkbox-group">Ø±ÙÛŒÙ‚â€ŒØ¨Ø§Ø²<input type="checkbox" id="v_rafigh"></span>
          </div>
        </td>
      </tr>

      <tr class="merge-bottom">
        <td colspan="2">
          <div class="flex-row">
            <span class="checkbox-group">Ø®ÙˆØ§Ø³ØªØ§Ø± ØªØ¬Ø±Ø¨Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ§Ø²Ù‡<input type="checkbox" id="exp_new"></span>
            <span class="checkbox-group">Ø§Ù‡Ù…ÛŒØªâ€ŒØ¯Ù‡Ù†Ø¯Ù‡ Ø¨Ù‡ Ø­Ø±Ù Ø§Ø·Ø±Ø§ÙÛŒØ§Ù†<input type="checkbox" id="atrafian"></span>
            ØªÙˆØ¶ÛŒØ­Ø§Øª Ø¨ÛŒØ´ØªØ±: <input type="text" id="desc2">
          </div>
        </td>
      </tr>

      <tr>
        <td colspan="2"><div class="flex-row">Ø³Ø±Ú¯Ø±Ù…ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ø¹Ù„Ø§Ù‚Ù‡: <input type="text" id="hobbies"></div></td>
      </tr>

      <tr>
        <td colspan="2"><div class="flex-row">Ù…ÛŒØ²Ø§Ù† Ø¢Ø´Ù†Ø§ÛŒÛŒ Ø¨Ø§ Ø¹Ù„Ù… Ø±ÙˆØ² Ùˆ Ø¨Ø§Ø²Ø§Ø±ÛŒØ§Ø¨ÛŒ Ø´Ø¨Ú©Ù‡â€ŒØ§ÛŒ: <input type="text" id="mlm_knowledge"></div></td>
      </tr>

      <tr>
        <td colspan="2"><div class="flex-row">ØªØ§Ø±ÛŒØ® Ø¢Ø®Ø±ÛŒÙ† Ø¯ÛŒØ¯Ø§Ø± Ùˆ Ø¹Ù„Øª Ø¯ÛŒØ¯Ø§Ø±: <input type="text" id="last_visit"></div></td>
      </tr>

      <tr>
        <td colspan="2"><div class="flex-row">Ø¢Ø®Ø±ÛŒÙ† Ø®Ø§Ø·Ø±Ù‡ Ù…Ø´ØªØ±Ú©: <input type="text" id="memory"></div></td>
      </tr>

      <tr>
        <td colspan="2"><div class="flex-row">Ù†ÛŒØ§Ø²Ù‡Ø§ÛŒ Ø§Ù…Ø±ÙˆØ²Ù‡ Ùˆ Ø¨Ø²Ø±Ú¯ØªØ±ÛŒÙ† Ø§Ù‡Ø¯Ø§Ù: <input type="text" id="goals"></div></td>
      </tr>

      <tr>
        <td colspan="2"><div class="flex-row">Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ÛŒ Ø²Ù†Ø¯Ú¯ÛŒ: <input type="text" id="challenges"></div></td>
      </tr>

      <tr>
        <td colspan="2"><div class="flex-row">Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø¯Ø± Ø²Ù†Ú¯ Ø¯Ø¹ÙˆØª (Ø¯ÛŒØ¯ Ú©Ø§Ø±ÛŒ): <input type="text" id="invite_info"></div></td>
      </tr>

      <tr>
        <td colspan="2"><div class="flex-row">Ø¢Ø¯Ø±Ø³ Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…: <input type="text" id="instagram" dir="ltr" style="text-align:right;"></div></td>
      </tr>

      <tr>
        <td colspan="2" style="height:100px; vertical-align:top;">
          ØªÙˆØ¶ÛŒØ­Ø§Øª Ø¨Ø§Ù‚ÛŒÙ…Ø§Ù†Ø¯Ù‡:
          <textarea id="final_desc" rows="4"></textarea>
        </td>
      </tr>

      <!-- Ú©Ø§Ø¯Ø± Ù¾Ø§ÛŒØ§Ù†ÛŒ ÛŒÚ©â€ŒØªÚ©Ù‡ -->
      <tr class="footer-row">
        <td colspan="2">
          Ø§ÛŒÙ†Ø¬Ø§Ù†Ø¨
          ( <input type="text" id="footer_me" style="width:90px;"> )
          Ø¯Ø±Ø®ÙˆØ§Ø³Øª ØªØ£ÛŒÛŒØ¯ÛŒÙ‡ Ø¬Ù‡Øª Ø²Ù†Ú¯ Ø¯Ø¹ÙˆØª Ø¨Ù‡ Ø§ÛŒØ´Ø§Ù† Ùˆ Ù…Ø´Ø®Øµ Ú©Ø±Ø¯Ù† Ù¾Ø±Ø²Ù†ØªÙˆØ±
          Ø§Ø² Ø¢Ù‚Ø§ / Ø®Ø§Ù†Ù…
          ( <input type="text" id="footer_target" style="width:90px;"> )
          (Ø§ÙˆÙ„ÛŒÙ† ÙØ§Ù„ÙˆØ¦Ø±) Ø±Ø§ Ø¯Ø§Ø±Ù….
        </td>
      </tr>

    </table>
  </div>

  <div class="controls">
    <button class="btn-backup" onclick="saveBackup()">Ø¨Ø§Ø±Ú¯ÛŒØ±ÛŒ Ù†Ø³Ø®Ù‡ Ù¾Ø´ØªÛŒØ¨Ø§Ù† (JSON)</button>
    <button class="btn-restore" onclick="document.getElementById('fileInput').click()">Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ù†Ø³Ø®Ù‡ Ù¾Ø´ØªÛŒØ¨Ø§Ù†</button>
    <button class="btn-download" onclick="downloadJPG()">Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø¨ØµÙˆØ±Øª JPG</button>
    <input type="file" id="fileInput" accept=".json" onchange="restoreBackup(event)">
  </div>

  <script>
    function downloadJPG(){
      const el = document.getElementById('capture-area');
      html2canvas(el, {scale:2, backgroundColor:'#ffffff', useCORS:true})
        .then(canvas=>{
          const a=document.createElement('a');
          a.download='biography-sheet.jpg';
          a.href=canvas.toDataURL('image/jpeg',0.92);
          a.click();
        });
    }

    function saveBackup(){
      const data={};
      document.querySelectorAll('input, textarea, select').forEach(el=>{
        data[el.id] = (el.type==='checkbox') ? el.checked : el.value;
      });
      const blob=new Blob([JSON.stringify(data)],{type:'application/json'});
      const url=URL.createObjectURL(blob);
      const a=document.createElement('a');
      a.href=url; a.download='backup-biography.json'; a.click();
      URL.revokeObjectURL(url);
    }

    function restoreBackup(e){
      const file=e.target.files[0]; if(!file) return;
      const reader=new FileReader();
      reader.onload=(ev)=>{
        try{
          const data=JSON.parse(ev.target.result);
          for(const id in data){
            const el=document.getElementById(id);
            if(!el) continue;
            if(el.type==='checkbox') el.checked=!!data[id];
            else el.value=data[id];
          }
          alert('Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø´Ø¯.');
        }catch(err){ alert('ÙØ§ÛŒÙ„ Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª.'); }
      };
      reader.readAsText(file);
    }

    document.querySelectorAll('textarea').forEach(t=>{
      const fit=()=>{ t.style.height='auto'; t.style.height=t.scrollHeight+'px'; };
      t.addEventListener('input',fit); fit();
    });
  </script>
</body>
</html>
